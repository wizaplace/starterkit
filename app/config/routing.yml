home:
    path: /
    defaults: { _controller: AppBundle:Home:home }
    methods: [GET]

# Search
search:
    path: /recherche
    defaults: { _controller: AppBundle:Search:search }
    methods: [GET]

# Auth
login: # see security.yml
    path: /login
    methods: [POST]

login_form:
    path: /login
    defaults: { _controller: AppBundle:Auth:login }
    methods: [GET]

logout: # see security.yml
    path: /logout
    methods: [GET]

register:
    path: /register
    defaults: { _controller: AppBundle:Auth:Register }
    methods: [POST]


reset_password:
    path: /password
    defaults: { _controller: AppBundle:Auth:resetPassword }
    methods: [POST]

# Profile
profile:
    path: /profil
    defaults: { _controller: AppBundle:Profile:view }
    methods: [GET]

profile_addresses:
    path: /profil/adresses
    defaults: { _controller: AppBundle:Profile:addresses }
    methods: [GET]

profile_orders:
    path: /profil/commandes
    defaults: { _controller: AppBundle:Profile:orders }
    methods: [GET]

profile_returns:
    path: /profil/retours
    defaults: { _controller: AppBundle:Profile:returns }
    methods: [GET]

profile_messages:
    path: /profil/messagerie
    defaults: { _controller: AppBundle:Profile:view }
    methods: [GET]

# basket
basket:
    path: /panier
    defaults: { _controller: AppBundle:Basket:basket }
    methods: [GET]

basket_add_product:
    path: /basket/add
    defaults: { _controller: AppBundle:Basket:addProduct }
    methods: [POST]

basket_update_product_quantity:
    path: /basket/update
    defaults: { _controller: AppBundle:Basket:updateProductQuantity }
    methods: [POST]

basket_remove_product:
    path: /basket/remove
    defaults: { _controller: AppBundle:Basket:removeProduct }
    methods: [GET]


#checkout
checkout_login:
    path: /commande/connexion
    defaults: { _controller: AppBundle:Checkout:login }
    methods: [GET]

checkout_addresses:
    path: /commande/adresses
    defaults: { _controller: AppBundle:Checkout:addresses }
    methods: [GET]

checkout_payment:
    path: /commande/paiement
    defaults: { _controller: AppBundle:Checkout:payment }
    methods: [GET]

checkout_submit_payment:
    path: /commande/paiement
    defaults: { _controller: AppBundle:Checkout:submitPayment }
    methods: [POST]

checkout_complete:
    path: /commande/confirmation
    defaults: { _controller: AppBundle:Checkout:complete }
    methods: [GET]

# legacy
# product
product:
    path: /p/{categoryPath}/{slug}
    defaults: { _controller: AppBundle:Product:view }
    requirements:
        categoryPath: "(%slug.regexp%/)*%slug.regexp%"
        slug: "%slug.regexp%"


# panier (Create, Update, Delete)

clean_basket:
    path: /basket/clean
    defaults: { _controller: AppBundle:Basket:cleanBasket }
    methods: [POST]


basket_add_coupon:
    path: /basket/add_coupon
    defaults: { _controller: AppBundle:Basket:addCoupon }
    methods: [POST]
basket_remove_coupon:
    path: /basket/remove_coupon
    defaults: { _controller: AppBundle:Basket:removeCoupon }
    methods: [POST]

# orders
order_all:
    path: /commandes
    defaults: { _controller: AppBundle:Order:viewOrders }
    methods: [GET]

order:
    path: /commande/{orderId}
    defaults: { _controller: AppBundle:Order:viewOrder }
    methods: [GET]

create_return:
    path: /commande/{orderId}/retour
    defaults: { _controller: AppBundle:Order:createReturn }
    methods: [POST]

create_return_form:
    path: /commande/{orderId}/retour
    defaults: { _controller: AppBundle:Order:displayCreateReturn }
    methods: [GET]

updateUser:
    path: /update-user
    defaults: { _controller: AppBundle:Profile:updateProfile }
    methods: [POST]

category:
    path: /c/{slug}
    defaults: { _controller: AppBundle:Category:view }
    methods: [GET]
    requirements:
        slug: "%slug.regexp%"

cmsPage:
    path: /{slug}
    defaults: { _controller: AppBundle:Cms:Page }
    methods: [GET]
    requirements:
        slug: "%slug.regexp%"
